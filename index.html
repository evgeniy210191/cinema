<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Page title</title><link rel="stylesheet" href="/cinema/index.4a76ec90.css"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet"></head><body> <header> <section class="home"> <h1 class="hidden">films</h1> <div class="container home-container"> <div class="header"> <a href="#" class="logo"> <svg width="20" height="20"> <use xlink:href="/cinema/sprite.3b2919f2.svg#logo"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <nav> <ul class="nav"> <li class="nav-list now-here"><a href="#">HOME</a></li> <li class="nav-list"><a href="/cinema/library.html">MY LIBRARY</a></li> </ul> </nav> </div> <form class="search"> <label class="search-label"> <input type="text" class="search-input" name="search"> <button type="submit" class="search-svg"> <svg width="12" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#search"></use> </svg> </button> </label> <p class="search-error"></p> </form> </div> </section> </header> <main> <section class="cards"> <div class="container"> <div class="cards-js list-films"></div> </div> </section> <section> <div class="container"> <div class="pagination"> <h2 class="hiden">pagination</h2> <button type="button" data-element="prev"> <svg width="16" height="16"> <use xlink:href="/cinema/sprite.3b2919f2.svg#arrow-left"></use> </svg> </button> <ul class="page-list"> </ul> <button type="button" data-element="next"> <svg width="16" height="16"> <use xlink:href="/cinema/sprite.3b2919f2.svg#arrow-right"></use> </svg> </button> </div> </div> </section> </main> <footer> <p>&#169; | All Rights Reserved |&nbsp;</p> <p> <spam>Developed with</spam> <svg width="14" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#heart"></use> </svg> <spam>by GoIT Students</spam> </p> </footer> <script>!function(){class e{constructor({total_pages:e=1e3,page:t=1,piece:a=3}={}){this.totalPages=e,this.piece=a,this.page=t,this.key="ef54c316f166b2a5913791e8b3f63a4a",this.renderPages(),this.addEventListeners()}quantityPages(){return 0===this.totalPages?0:this.totalPages<this.piece?this.totalPages:this.piece}pages(e){return`\n      <li class="page ${this.page===e?"active":""}" data-page-index="${e}">${e}</li>\n    `}initPages(){return new Array(this.quantityPages()).fill(0).map(((e,t)=>this.pages(t+1))).join("")}getTempLate(){return`\n      ${this.initPages()}\n    `}renderPages(){const e=document.querySelector(".page-list");e.innerHTML=this.getTempLate(),this.element=e.parentNode}setPage(e=1){const t=this.element.querySelector(".page.active");t&&t.classList.remove("active");this.element.querySelector(`[data-page-index="${e}"]`).classList.add("active"),this.page=e,console.log(this.page)}nextPage(){this.page>this.totalPages-1||(this.page>this.piece-1&&this.renderUpPagesNext(),this.page+=1,this.setPage(this.page))}prevPage(){1!==this.page&&(this.page>this.piece-1&&this.renderUpPagesPrev(),this.page-=1,this.setPage(this.page))}addEventListeners(){const[e,t,a]=['[data-element="prev"]','[data-element="next"]',".page-list"].map((e=>this.element.querySelector(e)));e.addEventListener("click",(()=>{this.prevPage()})),t.addEventListener("click",(()=>{this.nextPage()})),a.addEventListener("click",(e=>{const t=e.target.closest(".page");if(!t)return;const a=t.dataset.pageIndex;this.setPage(Number(a))}))}upDataNext(){return new Array(this.quantityPages()).fill(0).map(((e,t)=>this.pages(t+this.page-1))).join("")}upListPageNext(){return`\n      ${this.upDataNext()}\n    `}renderUpPagesNext(){const e=document.querySelector(".page-list");e.innerHTML=this.upListPageNext(),this.element=e.parentNode}upDataPrev(){return new Array(this.quantityPages()).fill(0).map(((e,t)=>this.pages(t+this.page-2))).join("")}upListPagePrev(){return`\n      ${this.upDataPrev()}\n    `}renderUpPagesPrev(){const e=document.querySelector(".page-list");e.innerHTML=this.upListPagePrev(),this.element=e.parentNode}}class t{constructor(e){this.page=e,this.key="ef54c316f166b2a5913791e8b3f63a4a"}async getData(){const e=`https://api.themoviedb.org/3/trending/movie/day?api_key=${this.key}&page=${this.page}&include_adult=false`,t=await fetch(e,{headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await t.json()}}class a{constructor(e=[]){this.state=e,this.myRender()}renderCard(){return this.state.map((e=>` \n          <div class="films">\n            <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n            <h2>${e.title}<br>\n              <p>| ${e.release_date.slice(0,4)}</p>\n            </h2>\n          </div>\n        \n    `)).join("")}myRender(){const e=document.querySelector(".cards-js"),t=this.renderCard();return e.insertAdjacentHTML("beforeEnd",t)}}new class{constructor(){this.result={},this.components={},this.page=1,this.update(),this.showDefaultData()}async loadDefaultData(){const e=new t(this.page),a=await e.getData();return console.log(a),a}showDefaultData(){const t=new a(this.result.results),s=new e(this.result);this.components.card=t,this.components.pagination=s}async update(){const e=await this.loadDefaultData();this.components.card.indexHTML=e}async getData(e){e.preventDefault(),console.dir(e.target.elements.search.value),fetchApi.query=e.target.elements.search.value,console.log(await fetchApi.getData())}}}();</script> </body></html>