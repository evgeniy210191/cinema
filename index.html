<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Page title</title><link rel="stylesheet" href="/cinema/index.0a946c2b.css"><link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap" rel="stylesheet"></head><body> <header> <section class="home"> <h1 class="hidden">films</h1> <div class="container home-container"> <div class="header"> <a href="#" class="logo"> <svg width="20" height="20"> <use xlink:href="/cinema/sprite.3b2919f2.svg#logo"></use> </svg> <span class="text-logo">Filmoteka</span> </a> <nav> <ul class="nav"> <li class="nav-list now-here"><a href="#">HOME</a></li> <li class="nav-list"><a href="/cinema/library.html">MY LIBRARY</a></li> </ul> </nav> </div> <form class="search"> <label class="search-label"> <input type="text" class="search-input" name="search"> <button type="submit" class="search-svg"> <svg width="12" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#search"></use> </svg> </button> </label> <p class="search-error"></p> </form> </div> </section> </header> <main> <section class="cards"> <div class="container"> <div class="cards-js list-films"></div> </div> </section> <section> <div class="container"> <div class="pagination"> <h2 class="hiden">pagination</h2> </div> </div> </section> </main> <footer> <p>&#169; | All Rights Reserved |&nbsp;</p> <p> <spam>Developed with</spam> <svg width="14" height="12"> <use xlink:href="/cinema/sprite.3b2919f2.svg#heart"></use> </svg> <spam>by GoIT Students</spam> </p> </footer> <script>!function(){var e=defaultRequest={key:"ef54c316f166b2a5913791e8b3f63a4a",async getData(e=1){const t=`https://api.themoviedb.org/3/trending/movie/day?api_key=${this.key}&page=${e}&include_adult=false&language=uk`,a=await fetch(t,{headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await a.json()}};searchData={searchData:"",key:"ef54c316f166b2a5913791e8b3f63a4a",async getData(e=1){const t=`https://api.themoviedb.org/3/search/movie?api_key=ef54c316f166b2a5913791e8b3f63a4a&query=${this.searchData}&page=${e}&include_adult=false&append_to_response=videos$confirm=true&language=uk`,a=await fetch(t,{headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await a.json()},get query(){return this.searchData},set query(e){this.searchData=e}};class t{constructor(e=[]){this.state=e,this.myRender()}renderCard(){return this.state.map((e=>` \n          <div class="films" data-atrebut-info="${e.id}">\n            <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n            <h2>${e.title}<br>\n              <p class="second-title">| ${e.release_date.slice(0,4)}</p>\n            </h2>\n          </div>\n        \n    `)).join("")}myRender(){const e=document.createElement("div");e.innerHTML=this.renderCard(),this.element=e}}class a{constructor({total_pages:e,page:t=1,piece:a=3}={}){this.totalPages=e,this.piece=a,this.page=t,this.key="ef54c316f166b2a5913791e8b3f63a4a",this.renderPages(1),this.addEventListeners()}quantityPages(){return 0===this.totalPages?0:this.totalPages<this.piece?this.totalPages:this.piece}pages(e){return`\n      <li class="page ${this.page===e?"active":""}" data-page-index="${e}">${e}</li>\n    `}initPages(e){return new Array(this.quantityPages()).fill(0).map(((t,a)=>this.pages(a+e))).join("")}getTempLate(e){return`\n      <div class="paginationList">\n      <button type="button" data-element="prev" class="prev"></button>\n      <ul class="page-list">\n        ${this.initPages(e)}\n      </ul>\n      <button type="button" data-element="next" class="next"></button>\n      </div>\n    `}renderPages(e){const t=document.createElement("div");t.innerHTML=this.getTempLate(e),this.element=t.firstElementChild}setPage(e=1){const t=document.querySelector(".page.active");t&&t.classList.remove("active");document.querySelector(`[data-page-index="${e}"]`).classList.add("active"),this.dispatchEvent(e),this.page=e}xPage(e){this.renderPages(e)}nextPage(){this.page>this.totalPages-1||(this.page>this.piece-3&&console.log(this),this.page+=1,this.setPage(this.page))}prevPage(){1!==this.page&&(this.page,this.piece,this.page-=1,this.setPage(this.page))}addEventListeners(){const[e,t,a]=['[data-element="prev"]','[data-element="next"]',".page-list"].map((e=>this.element.querySelector(e)));e.addEventListener("click",(()=>{this.prevPage()})),t.addEventListener("click",(()=>{this.nextPage()})),a.addEventListener("click",(e=>{const t=e.target.closest(".page"),a=e.target.closest(".page.active");if(!t)return;if(a)return;const s=t.dataset.pageIndex;this.setPage(Number(s))}))}dispatchEvent(e){const t=new CustomEvent("page-change",{detail:e}),a=document.querySelector("header");window.scrollTo({top:a.getBoundingClientRect().height,behavior:"smooth"}),this.page=t,this.element.dispatchEvent(t)}}var s=aboutFilmFetch={key:"ef54c316f166b2a5913791e8b3f63a4a",async getData(e){const t=`https://api.themoviedb.org/3/movie/${e}?language=uk`,a=await fetch(t,{method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJlZjU0YzMxNmYxNjZiMmE1OTEzNzkxZThiM2Y2M2E0YSIsInN1YiI6IjY0NzBkZmZhYzVhZGE1MDBjMWEzNzhmMiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.fljmrABHLVGUf2e0aWKvdHeTeR0ruZNkP26DhsQLuYM"}});return await a.json()}},i=modal={body:document.querySelector("body"),eventListeners(){document.addEventListener("click",(async e=>{if(e.target.closest(".films")&&modal.render(e.target.parentNode.dataset.atrebutInfo),(e.target.closest(".close")||"backdrop-modals"===e.target.id)&&this.isOpen.classList.contains("is-open")&&(this.isOpen.classList.remove("is-open"),this.body.classList.remove("is-hidden")),"wotched"===e.target.id){const t=await s.getData(e.target.dataset.id),a=localStorage.getItem("idFilmsWatched");if(a){const e=JSON.parse(a);return e.push(t),void localStorage.setItem("idFilmsWatched",JSON.stringify(e))}localStorage.setItem("idFilmsWatched",JSON.stringify([t]))}if("queue"===e.target.id){const t=await s.getData(e.target.dataset.id),a=localStorage.getItem("idFilmsQueue");if(a){const e=JSON.parse(a);return e.push(t),void localStorage.setItem("idFilmsQueue",JSON.stringify(e))}localStorage.setItem("idFilmsQueue",JSON.stringify([t]))}}))},async aboutFilm(e){const t=await s.getData(e),{poster_path:a,vote_count:i,vote_average:n,original_title:o,popularity:c,overview:r,genres:d,id:l}=t;return`\n    <div class="backdrop" id="backdrop-modals">\n    <div class="modal">\n      <button tupe="button" class="close">\n          <span class="top"></span> \n          <span class="bottom"></span>\n      </button>\n      <div class="card-film">\n        <img class="card-img" src="https://image.tmdb.org/t/p/w500${a}" alt="${o}">\n        <div class="fistful">\n          <h2 class="title-film">${o}</h2>\n          <div class="rating">\n            <div class="firste-title">Vote/Votes\n              <p class="detail">\n                <span class="vote">${n}</span> /\n                <span">${i}</span>\n              </p>\n            </div>\n            <p class="firste-title">Popularity<span class="detail">${c}</span></p>\n            <p class="firste-title">Original Title<span class="detail">${o}</span></p>\n            <p class="firste-title">Genre<span class="detail">${(()=>{let e=[];for(const t of d)e.push(t.name);return e.join(", ")})()}</span></p>\n          </div>\n          <div class="about-film">\n            <h3>Про кіно</h3>\n            <p class="about-text">\n              ${r}\n            </p>\n          </div>\n          <div class="add-film">\n            <button type="button" class="add-wotched" id="wotched" data-id="${l}">add to Watched</button>\n            <button type="button" class="add-queue" id="queue" data-id="${l}">add to queue</button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n    `},async render(e){const t=await modal.aboutFilm(e);this.body.insertAdjacentHTML("afterbegin",t);const a=document.getElementById("backdrop-modals");this.isOpen=a,a.classList.contains("is-open")||(a.classList.add("is-open"),this.body.classList.add("is-hidden"))}};new class{constructor(){this.components={},this.initComponents(),i.eventListeners()}async initDefaultFetch(a){const s=await e.getData(a),i=new t(s.results);return console.log(s),this.components.card=i,this.renderComponentsCard(),this.result=s,s}async initComponents(){const e=await this.initDefaultFetch(),t=new a(e);this.components.pagination=t,this.renderComponentsPage(),this.eventListeners()}renderComponentsPage(){document.querySelector(".pagination").append(...this.components.pagination.element.children)}renderComponentsCard(){const e=document.querySelector(".cards-js");e.innerHTML="",e.append(...this.components.card.element.children)}eventListeners(){this.components.pagination.element.addEventListener("page-change",(e=>{const t=Number(e.detail);this.initDefaultFetch(t)}))}}}();</script> </body></html>